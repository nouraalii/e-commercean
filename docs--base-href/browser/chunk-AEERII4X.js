import{a as D}from"./chunk-6MRWYRUN.js";import{a as I,b as k}from"./chunk-TLPPR7V5.js";import"./chunk-WXI33M2S.js";import"./chunk-CYIXHTS2.js";import{m as F}from"./chunk-VGO3SYRC.js";import{$ as m,Ab as v,Hb as a,Ib as w,Jb as g,Ma as f,Ob as T,Qa as l,Ub as W,Wb as y,ca as _,ib as x,ma as d,na as h,ob as C,pb as S,qb as c,rb as r,sb as p,vb as b,zb as u}from"./chunk-DDNZF7KO.js";var E=(n,i)=>i.id;function P(n,i){if(n&1){let s=b();c(0,"div",3)(1,"div",4),p(2,"img",5),r(),c(3,"div",6)(4,"div")(5,"h3",7),a(6),r(),c(7,"p",8),a(8),W(9,"currency"),r(),c(10,"button",9),u("click",function(){let e=d(s).$implicit,o=v();return h(o.removeItem(e.id))}),p(11,"i",10),r()(),c(12,"div")(13,"button",11),u("click",function(){let e=d(s).$implicit,o=v();return h(o.addCart(e.id))}),a(14,"Add to cart"),r()()()()}if(n&2){let s=i.$implicit;l(2),x("src",s.imageCover,f)("alt",s.title),l(4),w(s.title),l(2),g("Price:",y(9,4,s.price,"GBP"),"")}}var A=(()=>{let i=class i{constructor(){this._WishlistService=m(D),this._ToastrService=m(k),this._CartService=m(I),this.wishlistDetails=[]}ngOnInit(){this._WishlistService.getProductsWishlist().subscribe({next:t=>{console.log(t.data),this.wishlistDetails=t.data}})}removeItem(t){this._WishlistService.deleteSpecificWishlistItem(t).subscribe({next:e=>{console.log(e),this.wishlistDetails=this.wishlistDetails.filter(o=>o.id!==t),this._ToastrService.success("Item removed from wishlist","FreshCart")},error:e=>{console.log(e),this._ToastrService.error("Failed to remove item","FreshCart")}})}addCart(t){this._CartService.addProductToCart(t).subscribe({next:e=>{console.log(e),this._ToastrService.success(e.message,"FreshCart"),this._CartService.cartNumber.next(e.numOfCartItems)}})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=_({type:i,selectors:[["app-wishlist"]],standalone:!0,features:[T],decls:6,vars:0,consts:[[1,"bg-main-light","shadow","rounded-4","p-4","my-4","w-75","mx-auto"],[1,"d-flex","justify-content-between","align-items-center"],[1,"h2"],[1,"row","mb-2","border-bottom"],[1,"col-md-1"],[1,"w-100",3,"src","alt"],[1,"col-md-11","d-flex","justify-content-between","align-items-center"],[1,"h5"],[1,"text-main","m-0"],[1,"text-danger","btn","p-0","cursor-pointer",3,"click"],[1,"fa-solid","fa-trash"],[1,"btn-main",3,"click"]],template:function(e,o){e&1&&(c(0,"section",0)(1,"div",1)(2,"h1",2),a(3,"Wishlist:"),r()(),C(4,P,15,7,"div",3,E),r()),e&2&&(l(4),S(o.wishlistDetails))},dependencies:[F]});let n=i;return n})();export{A as WishlistComponent};
