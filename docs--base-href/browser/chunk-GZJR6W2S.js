import{a as A}from"./chunk-NFYKLAK5.js";import{a as G,b as F,c as B,d as M,h as V,i as j,j as k,k as I,m as O}from"./chunk-JTG6TFIY.js";import{c as z}from"./chunk-LUY3Z6OP.js";import"./chunk-CYIXHTS2.js";import{h as D}from"./chunk-VGO3SYRC.js";import{$ as P,Ab as y,Hb as a,Ib as x,Ob as L,Qa as r,Rb as b,ca as N,gb as f,ib as h,mb as m,qb as l,rb as i,sb as C,zb as q}from"./chunk-DDNZF7KO.js";var R=(t,n)=>({"is-valid":t,"is-invalid":n});function $(t,n){t&1&&(l(0,"p",17),a(1,"Name is required"),i())}function H(t,n){t&1&&(l(0,"p",17),a(1,"Name should be more than or equal 3 character"),i())}function J(t,n){t&1&&(l(0,"p",17),a(1,"Name should be less than or equal 20 character"),i())}function K(t,n){if(t&1&&(l(0,"div",6),f(1,$,2,0,"p",17)(2,H,2,0,"p",17)(3,J,2,0,"p",17),i()),t&2){let d,o,s,e=y();r(),m(1,(d=e.registerForm.get("name"))!=null&&d.getError("required")?1:-1),r(),m(2,(o=e.registerForm.get("name"))!=null&&o.getError("minlength")?2:-1),r(),m(3,(s=e.registerForm.get("name"))!=null&&s.getError("maxlength")?3:-1)}}function Q(t,n){t&1&&(l(0,"p",17),a(1,"Email is required"),i())}function U(t,n){t&1&&(l(0,"p",17),a(1,"Enter valid email"),i())}function W(t,n){if(t&1&&(l(0,"div",6),f(1,Q,2,0,"p",17)(2,U,2,0,"p",17),i()),t&2){let d,o,s=y();r(),m(1,(d=s.registerForm.get("email"))!=null&&d.getError("required")?1:-1),r(),m(2,(o=s.registerForm.get("email"))!=null&&o.getError("email")?2:-1)}}function X(t,n){t&1&&(l(0,"p",17),a(1,"phone is required"),i())}function Y(t,n){t&1&&(l(0,"p",17),a(1,"Enter valid phone"),i())}function Z(t,n){if(t&1&&(l(0,"div",6),f(1,X,2,0,"p",17)(2,Y,2,0,"p",17),i()),t&2){let d,o,s=y();r(),m(1,(d=s.registerForm.get("phone"))!=null&&d.getError("required")?1:-1),r(),m(2,(o=s.registerForm.get("phone"))!=null&&o.getError("pattern")?2:-1)}}function ee(t,n){t&1&&(l(0,"p",17),a(1,"password is required"),i())}function te(t,n){t&1&&(l(0,"p",17),a(1,"Enter valid password"),i())}function ie(t,n){if(t&1&&(l(0,"div",6),f(1,ee,2,0,"p",17)(2,te,2,0,"p",17),i()),t&2){let d,o,s=y();r(),m(1,(d=s.registerForm.get("password"))!=null&&d.getError("required")?1:-1),r(),m(2,(o=s.registerForm.get("password"))!=null&&o.getError("pattern")?2:-1)}}function re(t,n){t&1&&(l(0,"p",6),a(1,"Password confirmation is incorrect"),i())}function ne(t,n){t&1&&C(0,"i",16)}function le(t,n){if(t&1&&(l(0,"p",6),a(1),i()),t&2){let d=y();r(),x(d.msgError)}}var _e=(()=>{let n=class n{constructor(){this._AuthService=P(A),this._FormBuilder=P(I),this._Router=P(z),this.msgError="",this.isLoading=!1,this.registerForm=this._FormBuilder.group({name:[null,[F.required,F.minLength(3),F.maxLength(20)]],email:[null,[F.required,F.email]],phone:[null,[F.required,F.pattern(/^01[0125][0-9]{8}/)]],password:[null,[F.required,F.pattern(/^\w{6,}$/)]],rePassword:[null]},{validators:this.confirmPassword})}registerSubmit(){this.isLoading=!0,this.registerForm.valid&&(this.registerSub=this._AuthService.setRegisterForm(this.registerForm.value).subscribe({next:o=>{console.log(o),o.message=="success"&&this._Router.navigate(["/login"]),this.isLoading=!1},error:o=>{this.msgError=o.error.message,console.log(o),this.isLoading=!1}}))}confirmPassword(o){return o.get("password")?.value===o.get("rePassword")?.value?null:{mismatch:!0}}ngOnDestroy(){this.registerSub.unsubscribe()}};n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=N({type:n,selectors:[["app-register"]],standalone:!0,features:[L],decls:33,vars:29,consts:[[1,"bg-main-light","shadow","p-2","my-4","rounded-4","p-4"],[1,"h2","text-main"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name",1,"fw-bold","text-capitalize"],["type","text","id","name","formControlName","name",1,"form-control",3,"ngClass"],[1,"text-danger","fw-bold","mt-2"],["for","email",1,"fw-bold","text-capitalize"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngClass"],["for","phone",1,"fw-bold","text-capitalize"],["type","tel","id","phone","formControlName","phone",1,"form-control",3,"ngClass"],["for","password",1,"fw-bold","text-capitalize"],["type","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],["for","rePassword",1,"fw-bold"],["type","password","id","rePassword","formControlName","rePassword",1,"form-control",3,"ngClass"],["type","submit",1,"btn-main","d-block","ms-auto",3,"disabled"],[1,"fas","fa-spin","fa-spinner"],[1,"m-0"]],template:function(s,e){if(s&1&&(l(0,"section",0)(1,"h1",1),a(2,"Register Now:"),i(),l(3,"form",2),q("ngSubmit",function(){return e.registerSubmit()}),l(4,"div",3)(5,"label",4),a(6,"name:"),i(),C(7,"input",5),f(8,K,4,3,"div",6),i(),l(9,"div",3)(10,"label",7),a(11,"email:"),i(),C(12,"input",8),f(13,W,3,2,"div",6),i(),l(14,"div",3)(15,"label",9),a(16,"phone:"),i(),C(17,"input",10),f(18,Z,3,2,"div",6),i(),l(19,"div",3)(20,"label",11),a(21,"password:"),i(),C(22,"input",12),f(23,ie,3,2,"div",6),i(),l(24,"div",3)(25,"label",13),a(26,"rePassword:"),i(),C(27,"input",14),f(28,re,2,0,"p",6),i(),l(29,"button",15),a(30,"Register "),f(31,ne,1,0,"i",16),i(),f(32,le,2,1,"p",6),i()()),s&2){let u,v,g,w,p,E,_,S,c,T;r(3),h("formGroup",e.registerForm),r(4),h("ngClass",b(14,R,!((u=e.registerForm.get("name"))!=null&&u.errors)&&(((u=e.registerForm.get("name"))==null?null:u.touched)||((u=e.registerForm.get("name"))==null?null:u.dirty)),((u=e.registerForm.get("name"))==null?null:u.errors)&&(((u=e.registerForm.get("name"))==null?null:u.touched)||((u=e.registerForm.get("name"))==null?null:u.dirty)))),r(),m(8,(v=e.registerForm.get("name"))!=null&&v.errors&&((v=e.registerForm.get("name"))!=null&&v.touched||(v=e.registerForm.get("name"))!=null&&v.dirty)?8:-1),r(4),h("ngClass",b(17,R,!((g=e.registerForm.get("email"))!=null&&g.errors)&&(((g=e.registerForm.get("email"))==null?null:g.touched)||((g=e.registerForm.get("email"))==null?null:g.dirty)),((g=e.registerForm.get("email"))==null?null:g.errors)&&(((g=e.registerForm.get("email"))==null?null:g.touched)||((g=e.registerForm.get("email"))==null?null:g.dirty)))),r(),m(13,(w=e.registerForm.get("email"))!=null&&w.errors&&((w=e.registerForm.get("email"))!=null&&w.touched||(w=e.registerForm.get("email"))!=null&&w.dirty)?13:-1),r(4),h("ngClass",b(20,R,!((p=e.registerForm.get("phone"))!=null&&p.errors)&&(((p=e.registerForm.get("phone"))==null?null:p.touched)||((p=e.registerForm.get("phone"))==null?null:p.dirty)),((p=e.registerForm.get("phone"))==null?null:p.errors)&&(((p=e.registerForm.get("phone"))==null?null:p.touched)||((p=e.registerForm.get("phone"))==null?null:p.dirty)))),r(),m(18,(E=e.registerForm.get("phone"))!=null&&E.errors&&((E=e.registerForm.get("phone"))!=null&&E.touched||(E=e.registerForm.get("phone"))!=null&&E.dirty)?18:-1),r(4),h("ngClass",b(23,R,!((_=e.registerForm.get("password"))!=null&&_.errors)&&(((_=e.registerForm.get("password"))==null?null:_.touched)||((_=e.registerForm.get("password"))==null?null:_.dirty)),((_=e.registerForm.get("password"))==null?null:_.errors)&&(((_=e.registerForm.get("password"))==null?null:_.touched)||((_=e.registerForm.get("password"))==null?null:_.dirty)))),r(),m(23,(S=e.registerForm.get("password"))!=null&&S.errors&&((S=e.registerForm.get("password"))!=null&&S.touched||(S=e.registerForm.get("password"))!=null&&S.dirty)?23:-1),r(4),h("ngClass",b(26,R,!((c=e.registerForm.get("rePassword"))!=null&&c.errors)&&(((c=e.registerForm.get("rePassword"))==null?null:c.touched)||((c=e.registerForm.get("rePassword"))==null?null:c.dirty)),((c=e.registerForm.get("rePassword"))==null?null:c.errors)&&(((c=e.registerForm.get("rePassword"))==null?null:c.touched)||((c=e.registerForm.get("rePassword"))==null?null:c.dirty)))),r(),m(28,e.registerForm.getError("mismatch")&&((T=e.registerForm.get("rePassword"))!=null&&T.touched||(T=e.registerForm.get("rePassword"))!=null&&T.dirty)?28:-1),r(),h("disabled",e.registerForm.invalid||e.isLoading),r(2),m(31,e.isLoading?31:-1),r(),m(32,e.msgError?32:-1)}},dependencies:[O,V,G,B,M,j,k,D]});let t=n;return t})();export{_e as RegisterComponent};
