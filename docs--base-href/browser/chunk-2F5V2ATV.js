import{a as A,b as F,c as M}from"./chunk-GWN4NZXW.js";import{a as k}from"./chunk-2GAPWCEI.js";import{a as R}from"./chunk-6MRWYRUN.js";import"./chunk-WXI33M2S.js";import{a as P}from"./chunk-LUY3Z6OP.js";import"./chunk-CYIXHTS2.js";import"./chunk-VGO3SYRC.js";import{$ as m,Ab as d,Hb as c,Ib as p,Jb as T,Ma as W,Ob as w,Pb as E,Qa as o,ca as D,gb as u,ib as f,kb as I,ma as C,mb as _,na as S,nb as x,ob as v,pb as g,qb as n,rb as a,sb as h,vb as b,zb as y}from"./chunk-DDNZF7KO.js";var O=()=>[1,2,3,4,5];function V(e,s){if(e&1&&h(0,"img",14),e&2){let t=d(),l=t.$implicit,i=t.$index,r=d(2);f("src",l,W)("alt",r.productDetails.title+" image "+(i+1))}}function $(e,s){e&1&&u(0,V,1,2,"ng-template",6)}function j(e,s){e&1&&(n(0,"span"),h(1,"i",15),a())}function B(e,s){e&1&&h(0,"i",11)}function z(e,s){if(e&1){let t=b();n(0,"section",0)(1,"h2",1),c(2,"Product Details"),a(),n(3,"div",2)(4,"div",3)(5,"div",4)(6,"owl-carousel-o",5),v(7,$,1,0,null,6,x),a()(),n(9,"div",7)(10,"div")(11,"h2"),c(12),a(),n(13,"p",8),c(14),a(),n(15,"h3",9),c(16),a(),n(17,"div",10)(18,"span"),c(19),a(),n(20,"div"),v(21,j,2,0,"span",null,x),u(23,B,1,0,"i",11),n(24,"span",8),c(25),a()()(),n(26,"button",12),c(27,"Add to Cart"),a()(),n(28,"i",13),y("click",function(){C(t);let i=d();return S(i.toggleWishlist())}),a()()()()()}if(e&2){let t=d();o(6),f("options",t.customOptionsDetails),o(),g(t.productDetails.images),o(5),p(t.productDetails.title),o(2),p(t.productDetails.description),o(2),p(t.productDetails.category.name),o(3),T("",t.productDetails.price," EGP"),o(2),g(E(11,O).slice(0,t.productDetails.ratingsAverage)),o(2),_(23,t.productDetails.ratingsAverage%1!==0?23:-1),o(2),p(t.productDetails.ratingsAverage),o(3),I("fa-solid",t.isInWishlist)("fa-regular",!t.isInWishlist)}}var Q=(()=>{let s=class s{constructor(){this._ActivatedRoute=m(P),this._ProductService=m(k),this._WishlistService=m(R),this.customOptionsDetails={loop:!0,mouseDrag:!1,touchDrag:!1,pullDrag:!1,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:5}},nav:!1},this.productDetails=null,this.isInWishlist=!1}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:l=>{let i=l.get("id");i&&this._ProductService.getSpecificProduct(i).subscribe({next:r=>{console.log(r.data),this.productDetails=r.data,this.checkWishlist(i)}})}})}checkWishlist(l){this._WishlistService.getProductsWishlist().subscribe({next:i=>{this.isInWishlist=i.data.some(r=>r.id===l)}})}toggleWishlist(){this.productDetails&&(this.isInWishlist?this._WishlistService.deleteSpecificWishlistItem(this.productDetails.id).subscribe({next:()=>{this.isInWishlist=!1,console.log("Removed from wishlist")}}):this._WishlistService.addProductToWishlist(this.productDetails.id).subscribe({next:()=>{this.isInWishlist=!0,console.log("Added to wishlist")}}))}};s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=D({type:s,selectors:[["app-details"]],standalone:!0,features:[w],decls:1,vars:1,consts:[[1,"my-4"],[1,"text-center","text-main"],[1,"container"],[1,"row","align-items-center"],[1,"col-md-3"],[3,"options"],["carouselSlide",""],[1,"col-md-9","position-relative"],[1,"text-muted"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star-half-stroke","rating-color"],[1,"btn-main","w-100","mt-3"],[1,"fa-heart","fa-xl","text-main","position-absolute","top-0","end-0",3,"click"],[1,"w-100",3,"src","alt"],[1,"fas","fa-star","rating-color"]],template:function(i,r){i&1&&u(0,z,29,12,"section",0),i&2&&_(0,r.productDetails?0:-1)},dependencies:[M,F,A]});let e=s;return e})();export{Q as DetailsComponent};
